"use strict";(self.webpackChunktic_tac_toe=self.webpackChunktic_tac_toe||[]).push([[826],{426:(t,n,e)=>{e.d(n,{Z:()=>s});var i=e(81),o=e.n(i),r=e(645),a=e.n(r)()(o());a.push([t.id,'body {\r\n    min-height: 100vh;\r\n}\r\n\r\n.game-field {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 150px);\r\n    grid-template-rows: repeat(3, 150px);\r\n    width: min-content;\r\n    margin: 0 auto;\r\n    border: 1px solid black;\r\n}\r\n\r\n.game-cell {\r\n    border: 1px solid black;\r\n    background-size: contain;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n}\r\n\r\n.game-cell.cross {\r\n    background-image: url("https://upload.wikimedia.org/wikipedia/commons/c/ca/Transparent_X.png");\r\n}\r\n\r\n.game-cell.zero {\r\n    background-image: url("https://cutewallpaper.org/24/o-png/letter-o-png.png");\r\n}\r\n\r\n.game-cell.is-winning {\r\n    background-color: rebeccapurple;\r\n}\r\n\r\n.notifications-container {\r\n    display: block;\r\n    position: fixed;\r\n    right: 20px;\r\n    top: 20px;\r\n    padding: 6px;\r\n}\r\n\r\n.notification {\r\n    padding: 12px 20px;\r\n    border-radius: 20px;\r\n}\r\n\r\n.notification.warn {\r\n    background-color: lavenderblush;\r\n    color: brown;\r\n}\r\n\r\n.notification.success {\r\n    background-color: cadetblue;\r\n    color: lightgoldenrodyellow;\r\n}\r\n\r\n.notification.move {\r\n    background-color: brown;\r\n    color: lavender;\r\n}\r\n',""]);const s=a},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",i=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),i&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),i&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,i,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var p=0;p<t.length;p++){var l=[].concat(t[p]);i&&a[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),n.push(l))}},n}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var n=[];function e(t){for(var e=-1,i=0;i<n.length;i++)if(n[i].identifier===t){e=i;break}return e}function i(t,i){for(var r={},a=[],s=0;s<t.length;s++){var c=t[s],p=i.base?c[0]+i.base:c[0],l=r[p]||0,u="".concat(p," ").concat(l);r[p]=l+1;var d=e(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)n[d].references++,n[d].updater(f);else{var h=o(f,i);i.byIndex=s,n.splice(s,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function o(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,o){var r=i(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var s=e(r[a]);n[s].references--}for(var c=i(t,o),p=0;p<r.length;p++){var l=e(r[p]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}r=c}}},569:t=>{var n={};t.exports=function(t,e){var i=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},795:t=>{t.exports=function(t){var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var i="";e.supports&&(i+="@supports (".concat(e.supports,") {")),e.media&&(i+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(i+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),i+=e.css,o&&(i+="}"),e.media&&(i+="}"),e.supports&&(i+="}");var r=e.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(i,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},589:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},968:(t,n,e)=>{var i,o,r="notifications-container",a="game-field";!function(t){t.Cross="cross",t.Zero="zero"}(i||(i={})),function(t){t.First="First Player",t.Second="Second Player"}(o||(o={}));var s,c,p=function(){function t(){this.stepsCount=9,this.step=0,this.isCompleted=!1,this.playerType=null}return t.prototype.getPlayerType=function(){return this.playerType&&this.playerType===o.First?o.Second:o.First},t.prototype.getPlayerSign=function(){return this.playerType===o.First?i.Cross:i.Zero},t.prototype.next=function(){this.isCompleted||(this.step+=1,this.step>=this.stepsCount?this.complete():this.playerType?this.playerType=this.getPlayerType():this.playerType=o.First)},t.prototype.complete=function(){this.isCompleted=!0,this.playerType=null},t}();!function(t){t.Warn="warn",t.Success="success",t.Move="move"}(s||(s={})),function(t){t.FirstPlayerWinner="FirstPlayerWinner",t.SecondPlayerWinner="SecondPlayerWinner",t.Standoff="Standoff",t.PlayerOneMoves="PlayerOneMoves",t.PlayerTwoMoves="PlayerTwoMoves"}(c||(c={}));var l=function(){function t(t){this.containerElement=t,this.clear()}return t.prototype.clear=function(){this.isContainerExist()&&(this.containerElement.innerHTML="")},t.prototype.render=function(t){if(!this.isContainerExist())throw new Error("provide container element for 'notifications.view'");this.containerElement.innerHTML='\n            <div\n                class="notification '.concat(t.type,'"\n            >\n                ').concat(t.text,"\n            </div>\n        ")},t.prototype.isContainerExist=function(){return Boolean(this.containerElement)},t}(),u=function(){function t(){var t;this.notifications=((t={})[c.FirstPlayerWinner]={text:"Congratulations! First player has won this round!",type:s.Success},t[c.SecondPlayerWinner]={text:"Congratulations! Second player has won this round!",type:s.Success},t[c.Standoff]={text:"Oops. Nobody win. Standoff!",type:s.Warn},t[c.PlayerOneMoves]={text:"First player's move",type:s.Move},t[c.PlayerTwoMoves]={text:"Second player's move",type:s.Move},t)}return t.prototype.getNotification=function(t){return this.notifications[t]},t}(),d=function(){function t(t){void 0===t&&(t=8e3),this.messageDelay=t,this.notificationsModel=new u}return t.prototype.init=function(){var t=document.getElementById(r);this.notificationsView=new l(t)},t.prototype.clear=function(){this.notificationsView.clear()},t.prototype.show=function(t){var n=this,e=this.notificationsModel.getNotification(t);this.notificationsView.render(e),setTimeout((function(){n.notificationsView.clear()}),this.messageDelay)},t}(),f=function(){function t(t){this.containerElement=t}return t.prototype.getCellMarkup=function(t){var n=t.isWinning?"is-winning":"";return'\n            <div\n                class="game-cell '.concat(t.sign," ").concat(n,'"\n                data-pos-y="').concat(t.posY,'"\n                data-pos-x="').concat(t.posX,'"\n                data-sign="').concat(t.sign,'"\n            ></div>\n        ')},t.prototype.getRowsMarkup=function(t){return t.map(this.getCellMarkup.bind(this)).join("")},t.prototype.clear=function(){this.containerElement&&(this.containerElement.innerHTML="")},t.prototype.render=function(t){void 0===t&&(t=null),t&&this.containerElement&&(this.containerElement.innerHTML=t.map(this.getRowsMarkup.bind(this)).join(""))},t}(),h=function(){function t(t,n){this.sign=null,this.isWinning=!1,this.isEmpty=!0,this.posY=t,this.posX=n}return t.prototype.makeBusy=function(t){t&&(this.isEmpty=!1,this.sign=t)},t.prototype.makeWinning=function(){this.isWinning=!0},t}(),y=function(){function t(){this.field=[],this.init()}return t.prototype.init=function(){this.createGameField()},t.prototype.createGameField=function(){for(var t=[],n=0;n<3;n++){for(var e=[],i=0;i<3;i++)e.push(new h(n,i));t.push(e)}this.field=t},t.prototype.fillCell=function(t){var n=t.posY,e=t.posX,i=t.sign;this.field[n][e].makeBusy(i)},t.prototype.markAsWinning=function(t){var n=this;t.forEach((function(t){n.field[t.posY][t.posX].makeWinning()}))},t.prototype.canPlace=function(t,n){return this.field[t][n].isEmpty},t}(),m=function(){function t(){}return t.prototype.init=function(){this.initContainer(),this.createField()},t.prototype.initContainer=function(){this.gameFieldContainer=document.getElementById(a)},t.prototype.createField=function(){this.fieldModel=new y,this.fieldView=new f(this.gameFieldContainer),this.fieldView.clear(),this.fieldView.render(this.fieldModel.field)},t.prototype.canPlace=function(t){return this.fieldModel.canPlace(t.posY,t.posX)},t.prototype.updateCell=function(t){this.fieldModel.fillCell(t),this.fieldView.render(this.fieldModel.field)},t.prototype.markAsWinner=function(t){this.fieldModel.markAsWinning(t),this.fieldView.render(this.fieldModel.field)},t.prototype.getGameField=function(){return this.fieldModel.field},t.prototype.getGameFieldContainer=function(){return this.gameFieldContainer},t}(),g=function(){function t(t){this.gameField=t,this.initCombinations()}return t.prototype.initCombinations=function(){var t=this.gameField;this.winningCombinations=[t[0],t[1],t[2],[t[0][0],t[1][1],t[2][2]],[t[0][2],t[1][1],t[2][0]],[t[0][0],t[1][0],t[2][0]],[t[0][1],t[1][1],t[2][1]],[t[0][2],t[1][2],t[2][2]]]},t.prototype.check=function(){var t=this.winningCombinations.find((function(t){return t.every((function(t){return t.sign===i.Cross}))})),n=this.winningCombinations.find((function(t){return t.every((function(t){return t.sign===i.Zero}))}));return!![t,n].some(Boolean)&&(Boolean(t)?[t,o.First]:[n,o.Second])},t}(),v=function(){function t(){this.body=document.querySelector("body")}return t.prototype.createGameView=function(){var t,n=[r,a].map((function(t){var n=document.createElement("div");return n.classList.add(t),n.setAttribute("id",t),n}));(t=this.body).append.apply(t,n)},t.prototype.createStartButton=function(){var t=document.createElement("button");t.classList.add("start-button"),t.setAttribute("id","start-button"),t.textContent="Start Game",this.body.append(t)},t.prototype.clear=function(){this.body.innerHTML=""},t}(),w=function(){return w=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},w.apply(this,arguments)},b=function(){function t(){this.gameView=new v,this.queue=new p,this.field=new m,this.notifications=new d}return t.prototype.init=function(){this.gameView.createStartButton(),this.addListenerToStartButton()},t.prototype.start=function(){this.gameView.clear(),this.gameView.createGameView(),this.field.init(),this.notifications.init(),this.getWinner(),this.addListeners()},t.prototype.getWinner=function(){this.winner=new g(this.field.getGameField())},t.prototype.addListeners=function(){var t=this,n=this.field,e=this.field.getGameFieldContainer(),i=this.queue,r=this.notifications;e.addEventListener("click",(function(e){var a=e.target,s=t.getGameItemFromDataset(a);if(n.canPlace(s)&&!i.isCompleted&&(t.showStepNotification(),i.next(),n.updateCell(w(w({},s),{sign:i.getPlayerSign()})),!(i.step<5))){var p=t.winner.check();if(Array.isArray(p)){var l=p[0],u=p[1];if(l){var d=u===o.First?c.FirstPlayerWinner:c.SecondPlayerWinner;return n.markAsWinner(l),i.complete(),r.show(d),void t.endGame()}}else i.step===i.stepsCount&&(t.notifications.show(c.Standoff),t.endGame())}}))},t.prototype.getGameItemFromDataset=function(t){return{posX:Number(t.dataset.posX),posY:Number(t.dataset.posY),sign:t.dataset.sign}},t.prototype.showStepNotification=function(){this.notifications.clear();var t=this.queue.getPlayerType()===o.First?c.PlayerTwoMoves:c.PlayerOneMoves;this.notifications.show(t)},t.prototype.endGame=function(){var t=this;setTimeout((function(){t.gameView.clear(),t.init()}),4e3)},t.prototype.addListenerToStartButton=function(){var t=this;document.getElementById("start-button").addEventListener("click",(function(){t.start()}))},t}(),C=function(){function t(){}return t.prototype.init=function(){(new b).init()},t}(),M=e(379),k=e.n(M),x=e(795),S=e.n(x),T=e(569),F=e.n(T),E=e(565),P=e.n(E),W=e(216),L=e.n(W),V=e(589),G=e.n(V),A=e(426),B={};B.styleTagTransform=G(),B.setAttributes=P(),B.insert=F().bind(null,"head"),B.domAPI=S(),B.insertStyleElement=L(),k()(A.Z,B),A.Z&&A.Z.locals&&A.Z.locals,(new C).init()}},t=>{t(t.s=968)}]);